
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://nll-ai.github.io/kirin/tutorials/cloud-storage/">
      
      
        <link rel="prev" href="../commits/">
      
      
        <link rel="next" href="../../how-to/track-model-data/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Cloud Storage - kirin</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../apidocs.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cloud-storage-overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="kirin" class="md-header__button md-logo" aria-label="kirin" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M384 512H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h304c26.5 0 48 21.5 48 48v288c0 20.9-13.4 38.7-32 45.3V448c17.7 0 32 14.3 32 32s-14.3 32-32 32zM96 384c-17.7 0-32 14.3-32 32s14.3 32 32 32h256v-64zm32-232c0 13.3 10.7 24 24 24h176c13.3 0 24-10.7 24-24s-10.7-24-24-24H152c-13.3 0-24 10.7-24 24m24 72c-13.3 0-24 10.7-24 24s10.7 24 24 24h176c13.3 0 24-10.7 24-24s-10.7-24-24-24z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            kirin
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Cloud Storage
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/nll-ai/kirin" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    nll-ai/kirin
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="kirin" class="md-nav__button md-logo" aria-label="kirin" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M384 512H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h304c26.5 0 48 21.5 48 48v288c0 20.9-13.4 38.7-32 45.3V448c17.7 0 32 14.3 32 32s-14.3 32-32 32zM96 384c-17.7 0-32 14.3-32 32s14.3 32 32 32h256v-64zm32-232c0 13.3 10.7 24 24 24h176c13.3 0 24-10.7 24-24s-10.7-24-24-24H152c-13.3 0-24 10.7-24 24m24 72c-13.3 0-24 10.7-24 24s10.7 24 24 24h176c13.3 0 24-10.7 24-24s-10.7-24-24-24z"/></svg>

    </a>
    kirin
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/nll-ai/kirin" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    nll-ai/kirin
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/core-concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Concepts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../first-dataset/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Your First Dataset
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../commits/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Working with Commits
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Cloud Storage Overview
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Cloud Storage Overview
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-youll-learn" class="md-nav__link">
    <span class="md-ellipsis">
      
        What You'll Learn
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prerequisites
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-cloud-storage-backends" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding Cloud Storage Backends
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-creating-catalogs-with-cloud-storage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Creating Catalogs with Cloud Storage
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-the-same-api-for-local-and-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: The Same API for Local and Cloud
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-working-with-remote-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Working with Remote Files
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding Authentication
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding Authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws-s3-authentication-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS S3 Authentication Methods
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google-cloud-storage-authentication-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Google Cloud Storage Authentication Methods
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#azure-blob-storage-authentication-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Azure Blob Storage Authentication Methods
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-key-differences-from-local-storage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Key Differences from Local Storage
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 4: Key Differences from Local Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#network-latency" class="md-nav__link">
    <span class="md-ellipsis">
      
        Network Latency
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-download-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        File Download Behavior
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cost-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cost Considerations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Authentication Requirements
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-best-practices-for-cloud-storage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: Best Practices for Cloud Storage
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 5: Best Practices for Cloud Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security Best Practices
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance Best Practices
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cost-optimization-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cost Optimization Best Practices
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-common-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 6: Common Workflows
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 6: Common Workflows">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#development-to-production-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Development to Production Workflow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-environment-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multi-Environment Workflow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hybrid-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hybrid Workflow
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-troubleshooting-common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 7: Troubleshooting Common Issues
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 7: Troubleshooting Common Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssl-certificate-errors" class="md-nav__link">
    <span class="md-ellipsis">
      
        SSL Certificate Errors
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication-failures" class="md-nav__link">
    <span class="md-ellipsis">
      
        Authentication Failures
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-issues" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance Issues
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Concepts
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next Steps
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    How-To Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    How-To Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to/track-model-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Track Model Training Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to/manage-multiple-datasets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manage Multiple Datasets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to/setup-cloud-storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup Cloud Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to/version-control-pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Version Control Your Data Pipeline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/storage-format/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Storage Format
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Web UI
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Web UI
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web-ui/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web-ui/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web-ui/how-to/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    How-To Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web-ui/catalog-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Catalog Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-storage-auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cloud Storage Auth
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-youll-learn" class="md-nav__link">
    <span class="md-ellipsis">
      
        What You'll Learn
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prerequisites
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-cloud-storage-backends" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding Cloud Storage Backends
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-creating-catalogs-with-cloud-storage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Creating Catalogs with Cloud Storage
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-the-same-api-for-local-and-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: The Same API for Local and Cloud
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-working-with-remote-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Working with Remote Files
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding Authentication
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding Authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws-s3-authentication-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS S3 Authentication Methods
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google-cloud-storage-authentication-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Google Cloud Storage Authentication Methods
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#azure-blob-storage-authentication-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Azure Blob Storage Authentication Methods
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-key-differences-from-local-storage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Key Differences from Local Storage
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 4: Key Differences from Local Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#network-latency" class="md-nav__link">
    <span class="md-ellipsis">
      
        Network Latency
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-download-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        File Download Behavior
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cost-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cost Considerations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Authentication Requirements
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-best-practices-for-cloud-storage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: Best Practices for Cloud Storage
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 5: Best Practices for Cloud Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security Best Practices
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance Best Practices
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cost-optimization-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cost Optimization Best Practices
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-common-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 6: Common Workflows
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 6: Common Workflows">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#development-to-production-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Development to Production Workflow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-environment-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multi-Environment Workflow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hybrid-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hybrid Workflow
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-troubleshooting-common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 7: Troubleshooting Common Issues
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 7: Troubleshooting Common Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssl-certificate-errors" class="md-nav__link">
    <span class="md-ellipsis">
      
        SSL Certificate Errors
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication-failures" class="md-nav__link">
    <span class="md-ellipsis">
      
        Authentication Failures
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-issues" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance Issues
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Concepts
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next Steps
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<p><a href="https://molab.marimo.io/github/nll-ai/kirin/blob/main/docs/tutorials/cloud-storage.py"><img alt="Open in molab" src="https://marimo.io/molab-shield.svg" /></a></p>
<p>To run this notebook, click on the molab shield above or run the following command at the terminal:</p>
<div class="highlight"><pre><span></span><code>uvx<span class="w"> </span>marimo<span class="w"> </span>edit<span class="w"> </span>--sandbox<span class="w"> </span>--mcp<span class="w"> </span>--no-token<span class="w"> </span>--watch<span class="w"> </span>https://github.com/nll-ai/kirin/blob/main/docs/tutorials/cloud-storage.py
</code></pre></div>
<div class="marimo highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">marimo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">mo</span>
</code></pre></div>
<h1 id="cloud-storage-overview">Cloud Storage Overview</h1>
<p>This tutorial introduces you to using Kirin with cloud storage backends.
You'll learn how Kirin works seamlessly with S3, GCS, Azure, and other
cloud storage providers, and understand the key concepts for working with
remote datasets.</p>
<!---->
<h2 id="what-youll-learn">What You'll Learn</h2>
<ul>
<li>Understanding cloud storage backends and how Kirin uses them</li>
<li>How to create catalogs and datasets with cloud storage</li>
<li>Authentication methods for different cloud providers</li>
<li>Working with remote files using the same API as local files</li>
<li>Key differences and considerations when using cloud storage</li>
<li>Best practices for cloud storage workflows</li>
</ul>
<!---->
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>Completed <a href="../first-dataset/">Your First Dataset</a> tutorial</li>
<li>Basic understanding of datasets and commits</li>
<li>Familiarity with cloud storage concepts (S3, GCS, Azure)</li>
</ul>
<div class="marimo highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">kirin</span><span class="w"> </span><span class="kn">import</span> <span class="n">Catalog</span>

<span class="c1"># For this tutorial, we&#39;ll use local storage to demonstrate concepts</span>
<span class="c1"># In production, you would use: Catalog(root_dir=&quot;s3://my-bucket/data&quot;)</span>
<span class="n">temp_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;kirin_cloud_tutorial_&quot;</span><span class="p">))</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">root_dir</span><span class="o">=</span><span class="n">temp_dir</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;âœ… Created catalog with root: </span><span class="si">{</span><span class="n">catalog</span><span class="o">.</span><span class="n">root_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   (In production, this would be a cloud URL like s3://bucket/data)&quot;</span><span class="p">)</span>
</code></pre></div>
<h2 id="understanding-cloud-storage-backends">Understanding Cloud Storage Backends</h2>
<p>Kirin supports multiple cloud storage backends through the <strong>fsspec</strong>
library. This means you can use the same API whether you're working with
local files or cloud storage.</p>
<p><strong>Supported Backends:</strong></p>
<ul>
<li><strong>AWS S3</strong>: <code>s3://bucket/path</code></li>
<li><strong>Google Cloud Storage</strong>: <code>gs://bucket/path</code></li>
<li><strong>Azure Blob Storage</strong>: <code>az://container/path</code></li>
<li><strong>And many more</strong>: Dropbox, Google Drive, FTP, etc.</li>
</ul>
<p>The key insight is that Kirin treats all storage backends the same way -
you use the same methods and patterns regardless of where your data is
stored.</p>
<!---->
<h2 id="step-1-creating-catalogs-with-cloud-storage">Step 1: Creating Catalogs with Cloud Storage</h2>
<p>A <strong>catalog</strong> is a collection of datasets. When you create a catalog with
a cloud storage URL, all datasets in that catalog will be stored in the
cloud.</p>
<p>The API is identical whether you're using local or cloud storage - you
just change the <code>root_dir</code> parameter.</p>
<!---->
<div class="highlight"><pre><span></span><code><span class="c1"># Local storage (what we&#39;re using in this tutorial)</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/local/data&quot;</span><span class="p">)</span>

<span class="c1"># AWS S3</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span>
    <span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;s3://{{ bucket_name }}/data&quot;</span><span class="p">,</span>
    <span class="n">aws_profile</span><span class="o">=</span><span class="s2">&quot;{{ aws_profile }}&quot;</span>
<span class="p">)</span>

<span class="c1"># Google Cloud Storage</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span>
    <span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;gs://{{ bucket_name }}/data&quot;</span><span class="p">,</span>
    <span class="n">gcs_token</span><span class="o">=</span><span class="s2">&quot;/path/to/service-account.json&quot;</span><span class="p">,</span>
    <span class="n">gcs_project</span><span class="o">=</span><span class="s2">&quot;{{ project_id }}&quot;</span>
<span class="p">)</span>

<span class="c1"># Azure Blob Storage</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span>
    <span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;az://{{ container_name }}/data&quot;</span><span class="p">,</span>
    <span class="n">azure_connection_string</span><span class="o">=</span><span class="s2">&quot;{{ connection_string }}&quot;</span>
<span class="p">)</span>
</code></pre></div>
<!---->
<p><strong>Key points:</strong></p>
<ul>
<li>The URL scheme (<code>s3://</code>, <code>gs://</code>, <code>az://</code>) tells Kirin which backend to
  use</li>
<li>Authentication parameters are passed when creating the catalog</li>
<li>Once created, you use the catalog the same way regardless of backend</li>
</ul>
<div class="marimo highlight"><pre><span></span><code><span class="c1"># Create a dataset in the catalog (works the same for local or cloud)</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span>
    <span class="s2">&quot;cloud_demo&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Demo dataset for cloud storage tutorial&quot;</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;âœ… Created dataset: </span><span class="si">{</span><span class="n">dataset</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Dataset root: </span><span class="si">{</span><span class="n">dataset</span><span class="o">.</span><span class="n">root_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   (This would be in cloud storage if using s3://, gs://, etc.)&quot;</span><span class="p">)</span>
</code></pre></div>
<h2 id="step-2-the-same-api-for-local-and-cloud">Step 2: The Same API for Local and Cloud</h2>
<p>One of Kirin's strengths is that the API is identical whether you're
working with local files or cloud storage. This means:</p>
<ul>
<li>You can develop locally and deploy to cloud without code changes</li>
<li>The same patterns work everywhere</li>
<li>You don't need to learn different APIs for different backends</li>
</ul>
<div class="marimo highlight"><pre><span></span><code><span class="c1"># Create some sample files</span>
<span class="n">data_dir</span> <span class="o">=</span> <span class="n">temp_dir</span> <span class="o">/</span> <span class="s2">&quot;sample_data&quot;</span>
<span class="n">data_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Create a CSV file</span>
<span class="n">csv_file</span> <span class="o">=</span> <span class="n">data_dir</span> <span class="o">/</span> <span class="s2">&quot;sales_data.csv&quot;</span>
<span class="n">csv_file</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;date,product,revenue</span>
<span class="s2">2024-01-01,Widget A,1000</span>
<span class="s2">2024-01-02,Widget B,1500</span>
<span class="s2">2024-01-03,Widget A,1200</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>

<span class="c1"># Create a JSON config file</span>
<span class="n">config_file</span> <span class="o">=</span> <span class="n">data_dir</span> <span class="o">/</span> <span class="s2">&quot;config.json&quot;</span>
<span class="n">config_file</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;{</span>
<span class="s2">&quot;version&quot;: &quot;1.0&quot;,</span>
<span class="s2">&quot;region&quot;: &quot;us-east-1&quot;,</span>
<span class="s2">&quot;currency&quot;: &quot;USD&quot;</span>
<span class="s2">}</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;âœ… Created sample files:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   - </span><span class="si">{</span><span class="n">csv_file</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   - </span><span class="si">{</span><span class="n">config_file</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="marimo highlight"><pre><span></span><code><span class="c1"># Commit files - same API whether local or cloud!</span>
<span class="n">commit_hash</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Initial commit: Add sales data and configuration&quot;</span><span class="p">,</span>
    <span class="n">add_files</span><span class="o">=</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">csv_file</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">config_file</span><span class="p">)],</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;âœ… Created commit: </span><span class="si">{</span><span class="n">commit_hash</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   (Files are now stored in content-addressed storage)&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   (If using cloud, files are uploaded to cloud storage)&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>What just happened?</strong></p>
<ul>
<li>Files were committed to the dataset</li>
<li>If using cloud storage, files were uploaded to the cloud backend</li>
<li>Files are stored using content-addressed storage (by content hash)</li>
<li>The commit was created and stored in the dataset's history</li>
</ul>
<p>The process is identical whether you're using local or cloud storage!</p>
<!---->
<h2 id="step-3-working-with-remote-files">Step 3: Working with Remote Files</h2>
<p>When you access files from a cloud storage dataset, Kirin handles the
complexity of downloading files on-demand. You use the same <code>local_files()</code>
context manager as with local storage.</p>
<div class="marimo highlight"><pre><span></span><code><span class="c1"># Access files - same API for local and cloud!</span>
<span class="k">with</span> <span class="n">dataset</span><span class="o">.</span><span class="n">local_files</span><span class="p">()</span> <span class="k">as</span> <span class="n">local_files</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ðŸ“‚ Files available locally:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">filename</span><span class="p">,</span> <span class="n">local_path</span> <span class="ow">in</span> <span class="n">local_files</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="n">local_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Read file content (works the same for local or cloud)</span>
    <span class="n">csv_path</span> <span class="o">=</span> <span class="n">local_files</span><span class="p">[</span><span class="s2">&quot;sales_data.csv&quot;</span><span class="p">]</span>
    <span class="n">csv_content</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">csv_path</span><span class="p">)</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">ðŸ“ CSV content:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">csv_content</span><span class="p">[:</span><span class="mi">200</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;...&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>How it works with cloud storage:</strong></p>
<ul>
<li>When you access a file, Kirin downloads it from cloud storage</li>
<li>Files are cached locally in a temporary directory</li>
<li>When you exit the context manager, temporary files are cleaned up</li>
<li>This is called <strong>lazy loading</strong> - files are only downloaded when needed</li>
</ul>
<p><strong>Benefits:</strong></p>
<ul>
<li>Efficient: Only download what you use</li>
<li>Automatic cleanup: Temporary files are managed for you</li>
<li>Same API: Works identically for local and cloud storage</li>
</ul>
<!---->
<h2 id="understanding-authentication">Understanding Authentication</h2>
<p>Different cloud providers use different authentication methods. Kirin
supports the standard authentication patterns for each provider.</p>
<p><strong>Key concept:</strong> Authentication is configured when you create the catalog
or dataset, not when you access files. Once authenticated, all operations
use those credentials automatically.</p>
<!---->
<h3 id="aws-s3-authentication-methods">AWS S3 Authentication Methods</h3>
<p><strong>1. AWS Profile (Recommended for Development)</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span>
    <span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;s3://{{ bucket_name }}/data&quot;</span><span class="p">,</span>
    <span class="n">aws_profile</span><span class="o">=</span><span class="s2">&quot;{{ aws_profile }}&quot;</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>2. Environment Variables</strong></p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">AWS_ACCESS_KEY_ID</span><span class="o">={{</span><span class="w"> </span>access_key_id<span class="w"> </span><span class="o">}}</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">AWS_SECRET_ACCESS_KEY</span><span class="o">={{</span><span class="w"> </span>secret_access_key<span class="w"> </span><span class="o">}}</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">AWS_DEFAULT_REGION</span><span class="o">={{</span><span class="w"> </span>region<span class="w"> </span><span class="o">}}</span>
</code></pre></div>
<p>Then use without explicit credentials:</p>
<div class="highlight"><pre><span></span><code><span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;s3://{{ bucket_name }}/data&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>3. IAM Roles (Production)</strong></p>
<p>When running on EC2, ECS, or Lambda, IAM roles are used automatically:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># No credentials needed - uses IAM role</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;s3://{{ bucket_name }}/data&quot;</span><span class="p">)</span>
</code></pre></div>
<!---->
<h3 id="google-cloud-storage-authentication-methods">Google Cloud Storage Authentication Methods</h3>
<p><strong>1. Service Account Key File</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span>
    <span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;gs://{{ bucket_name }}/data&quot;</span><span class="p">,</span>
    <span class="n">gcs_token</span><span class="o">=</span><span class="s2">&quot;/path/to/service-account.json&quot;</span><span class="p">,</span>
    <span class="n">gcs_project</span><span class="o">=</span><span class="s2">&quot;{{ project_id }}&quot;</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>2. Application Default Credentials</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># One-time setup</span>
gcloud<span class="w"> </span>auth<span class="w"> </span>application-default<span class="w"> </span>login
</code></pre></div>
<p>Then use without explicit credentials:</p>
<div class="highlight"><pre><span></span><code><span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;gs://{{ bucket_name }}/data&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>3. Workload Identity (GKE/Kubernetes)</strong></p>
<p>When running on GKE with Workload Identity configured, Application Default
Credentials automatically detect credentials from the metadata server (which
is how Workload Identity works):</p>
<div class="highlight"><pre><span></span><code><span class="c1"># No credentials needed - uses ADC (which includes Workload Identity on GKE)</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;gs://{{ bucket_name }}/data&quot;</span><span class="p">)</span>
</code></pre></div>
<!---->
<h3 id="azure-blob-storage-authentication-methods">Azure Blob Storage Authentication Methods</h3>
<p><strong>1. Connection String</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span>
    <span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;az://{{ container_name }}/data&quot;</span><span class="p">,</span>
    <span class="n">azure_connection_string</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;AZURE_CONNECTION_STRING&quot;</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>2. Account Name and Key</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span>
    <span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;az://{{ container_name }}/data&quot;</span><span class="p">,</span>
    <span class="n">azure_account_name</span><span class="o">=</span><span class="s2">&quot;{{ account_name }}&quot;</span><span class="p">,</span>
    <span class="n">azure_account_key</span><span class="o">=</span><span class="s2">&quot;{{ account_key }}&quot;</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>3. Azure CLI Authentication</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># One-time setup</span>
az<span class="w"> </span>login
</code></pre></div>
<p>Then use without explicit credentials:</p>
<div class="highlight"><pre><span></span><code><span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;az://{{ container_name }}/data&quot;</span><span class="p">)</span>
</code></pre></div>
<!---->
<h2 id="step-4-key-differences-from-local-storage">Step 4: Key Differences from Local Storage</h2>
<p>While the API is the same, there are some important differences to
understand when working with cloud storage.</p>
<!---->
<h3 id="network-latency">Network Latency</h3>
<p>Cloud storage operations involve network requests, which adds latency:</p>
<ul>
<li><strong>Local storage</strong>: Instant file access</li>
<li><strong>Cloud storage</strong>: Network round-trip time (typically 10-100ms)</li>
</ul>
<p><strong>Impact:</strong> Operations like listing files or checking if a file exists
take longer with cloud storage.</p>
<p><strong>Mitigation:</strong> Use batch operations when possible, and cache results when
appropriate.</p>
<!---->
<h3 id="file-download-behavior">File Download Behavior</h3>
<p>With cloud storage, files are downloaded on-demand:</p>
<ul>
<li><strong>Local storage</strong>: Files are already on disk</li>
<li><strong>Cloud storage</strong>: Files are downloaded when accessed via
  <code>local_files()</code></li>
</ul>
<p><strong>Impact:</strong> First access to a file takes longer (download time).</p>
<p><strong>Mitigation:</strong> Files are cached during the <code>local_files()</code> context, so
multiple accesses to the same file don't re-download.</p>
<!---->
<h3 id="cost-considerations">Cost Considerations</h3>
<p>Cloud storage has usage-based costs:</p>
<ul>
<li><strong>Storage costs</strong>: Pay for data stored</li>
<li><strong>Request costs</strong>: Pay for API requests (PUT, GET, LIST)</li>
<li><strong>Data transfer costs</strong>: Pay for data downloaded (in some cases)</li>
</ul>
<p><strong>Best practices:</strong></p>
<ul>
<li>Batch operations to reduce request counts</li>
<li>Use appropriate storage classes (S3 Standard, IA, Glacier)</li>
<li>Compress files before storing</li>
<li>Monitor usage through cloud provider dashboards</li>
</ul>
<!---->
<h3 id="authentication-requirements">Authentication Requirements</h3>
<p>Cloud storage requires authentication, while local storage does not:</p>
<ul>
<li><strong>Local storage</strong>: No authentication needed</li>
<li><strong>Cloud storage</strong>: Must provide credentials (profile, keys, etc.)</li>
</ul>
<p><strong>Best practices:</strong></p>
<ul>
<li>Use IAM roles/service accounts in production (not access keys)</li>
<li>Rotate credentials regularly</li>
<li>Use least privilege (only grant necessary permissions)</li>
<li>Never commit credentials to version control</li>
</ul>
<!---->
<h2 id="step-5-best-practices-for-cloud-storage">Step 5: Best Practices for Cloud Storage</h2>
<p>Following best practices helps you build efficient, secure, and
cost-effective cloud storage workflows.</p>
<!---->
<h3 id="security-best-practices">Security Best Practices</h3>
<p><strong>1. Use IAM Roles/Service Accounts</strong></p>
<p>In production, use managed identities instead of access keys:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># âœ… Good: Uses IAM role automatically (on EC2/ECS/Lambda)</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;s3://{{ bucket_name }}/data&quot;</span><span class="p">)</span>

<span class="c1"># âŒ Avoid: Hardcoded credentials</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span>
    <span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;s3://{{ bucket_name }}/data&quot;</span><span class="p">,</span>
    <span class="n">aws_access_key_id</span><span class="o">=</span><span class="s2">&quot;AKIA...&quot;</span><span class="p">,</span>
    <span class="n">aws_secret_access_key</span><span class="o">=</span><span class="s2">&quot;...&quot;</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>2. Least Privilege</strong></p>
<p>Grant only the permissions needed:</p>
<ul>
<li>Read-only access for datasets that won't be modified</li>
<li>Write access only where necessary</li>
<li>Use bucket policies to restrict access</li>
</ul>
<p><strong>3. Monitor Access</strong></p>
<p>Enable audit logging in your cloud provider to track access patterns.</p>
<!---->
<h3 id="performance-best-practices">Performance Best Practices</h3>
<p><strong>1. Batch Operations</strong></p>
<p>Group multiple file operations together:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># âœ… Good: Single commit with multiple files</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Add multiple files&quot;</span><span class="p">,</span>
    <span class="n">add_files</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;file1.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;file2.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;file3.csv&quot;</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1"># âŒ Avoid: Multiple separate commits</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;Add file1&quot;</span><span class="p">,</span> <span class="n">add_files</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;file1.csv&quot;</span><span class="p">])</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;Add file2&quot;</span><span class="p">,</span> <span class="n">add_files</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;file2.csv&quot;</span><span class="p">])</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;Add file3&quot;</span><span class="p">,</span> <span class="n">add_files</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;file3.csv&quot;</span><span class="p">])</span>
</code></pre></div>
<p><strong>2. Use Appropriate Regions</strong></p>
<p>Store data in the same region as your compute resources to minimize
latency.</p>
<p><strong>3. Process Files in Chunks</strong></p>
<p>For large files, use chunked processing:</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">dataset</span><span class="o">.</span><span class="n">local_files</span><span class="p">()</span> <span class="k">as</span> <span class="n">local_files</span><span class="p">:</span>
    <span class="k">if</span> <span class="s2">&quot;large_data.csv&quot;</span> <span class="ow">in</span> <span class="n">local_files</span><span class="p">:</span>
        <span class="n">local_path</span> <span class="o">=</span> <span class="n">local_files</span><span class="p">[</span><span class="s2">&quot;large_data.csv&quot;</span><span class="p">]</span>
        <span class="c1"># Process in chunks</span>
        <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">local_path</span><span class="p">,</span> <span class="n">chunksize</span><span class="o">=</span><span class="mi">10000</span><span class="p">):</span>
            <span class="n">process_chunk</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
</code></pre></div>
<!---->
<h3 id="cost-optimization-best-practices">Cost Optimization Best Practices</h3>
<p><strong>1. Use Appropriate Storage Classes</strong></p>
<p>Different storage classes have different costs:</p>
<ul>
<li><strong>Standard</strong>: Fast access, higher cost</li>
<li><strong>Infrequent Access (IA)</strong>: Lower cost, slightly slower</li>
<li><strong>Glacier/Archive</strong>: Lowest cost, slow retrieval</li>
</ul>
<p><strong>2. Enable Lifecycle Policies</strong></p>
<p>Automatically move old data to cheaper storage classes:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Example: Move files older than 90 days to IA</span>
<span class="c1"># (Configured in cloud provider console, not in Kirin)</span>
</code></pre></div>
<p><strong>3. Compress Files</strong></p>
<p>Compress text files before storing to reduce storage costs:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">gzip</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">shutil</span>

<span class="c1"># Compress before committing</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f_in</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">gzip</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;data.csv.gz&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f_out</span><span class="p">:</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="n">f_in</span><span class="p">,</span> <span class="n">f_out</span><span class="p">)</span>

<span class="n">dataset</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;Add compressed data&quot;</span><span class="p">,</span> <span class="n">add_files</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;data.csv.gz&quot;</span><span class="p">])</span>
</code></pre></div>
<!---->
<h2 id="step-6-common-workflows">Step 6: Common Workflows</h2>
<p>Here are some common patterns for working with cloud storage in Kirin.</p>
<!---->
<h3 id="development-to-production-workflow">Development to Production Workflow</h3>
<p><strong>Pattern:</strong> Develop locally, deploy to cloud</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Development (local)</span>
<span class="n">dev_catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;./local_data&quot;</span><span class="p">)</span>
<span class="n">dev_dataset</span> <span class="o">=</span> <span class="n">dev_catalog</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s2">&quot;my_dataset&quot;</span><span class="p">)</span>

<span class="c1"># Production (cloud)</span>
<span class="n">prod_catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span>
    <span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;s3://{{ bucket_name }}/data&quot;</span><span class="p">,</span>
    <span class="n">aws_profile</span><span class="o">=</span><span class="s2">&quot;{{ aws_profile }}&quot;</span>
<span class="p">)</span>
<span class="n">prod_dataset</span> <span class="o">=</span> <span class="n">prod_catalog</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="s2">&quot;my_dataset&quot;</span><span class="p">)</span>

<span class="c1"># Same code works for both!</span>
<span class="n">commit_hash</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Add data&quot;</span><span class="p">,</span>
    <span class="n">add_files</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;data.csv&quot;</span><span class="p">]</span>
<span class="p">)</span>
</code></pre></div>
<p>The API is identical, so you can develop locally and deploy to cloud
without code changes.</p>
<!---->
<h3 id="multi-environment-workflow">Multi-Environment Workflow</h3>
<p><strong>Pattern:</strong> Use different catalogs for different environments</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Environment-specific catalogs</span>
<span class="n">catalogs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;dev&quot;</span><span class="p">:</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;./local_data&quot;</span><span class="p">),</span>
    <span class="s2">&quot;staging&quot;</span><span class="p">:</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;s3://staging-bucket/data&quot;</span><span class="p">),</span>
    <span class="s2">&quot;prod&quot;</span><span class="p">:</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;s3://prod-bucket/data&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1"># Use appropriate catalog for environment</span>
<span class="n">env</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;ENVIRONMENT&quot;</span><span class="p">,</span> <span class="s2">&quot;dev&quot;</span><span class="p">)</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">catalogs</span><span class="p">[</span><span class="n">env</span><span class="p">]</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s2">&quot;my_dataset&quot;</span><span class="p">)</span>
</code></pre></div>
<p>This pattern allows you to use the same code across environments while
keeping data isolated.</p>
<!---->
<h3 id="hybrid-workflow">Hybrid Workflow</h3>
<p><strong>Pattern:</strong> Mix local and cloud storage</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Local catalog for development</span>
<span class="n">local_catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span><span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;./local_data&quot;</span><span class="p">)</span>

<span class="c1"># Cloud catalog for shared/production data</span>
<span class="n">cloud_catalog</span> <span class="o">=</span> <span class="n">Catalog</span><span class="p">(</span>
    <span class="n">root_dir</span><span class="o">=</span><span class="s2">&quot;s3://{{ bucket_name }}/data&quot;</span><span class="p">,</span>
    <span class="n">aws_profile</span><span class="o">=</span><span class="s2">&quot;{{ aws_profile }}&quot;</span>
<span class="p">)</span>

<span class="c1"># Use local for development, cloud for production</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;ENVIRONMENT&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;production&quot;</span><span class="p">:</span>
    <span class="n">catalog</span> <span class="o">=</span> <span class="n">cloud_catalog</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">catalog</span> <span class="o">=</span> <span class="n">local_catalog</span>
</code></pre></div>
<p>This allows you to develop locally while using cloud storage for
production workloads.</p>
<!---->
<h2 id="step-7-troubleshooting-common-issues">Step 7: Troubleshooting Common Issues</h2>
<p>Here are solutions to common problems when working with cloud storage.</p>
<!---->
<h3 id="ssl-certificate-errors">SSL Certificate Errors</h3>
<p><strong>Problem:</strong> <code>SSLCertVerificationError</code> when connecting to cloud storage</p>
<p><strong>Solution:</strong> Set up SSL certificates for isolated Python environments:</p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>kirin.setup_ssl
</code></pre></div>
<p>This is especially important when using pixi, uv, or other isolated
Python environments.</p>
<!---->
<h3 id="authentication-failures">Authentication Failures</h3>
<p><strong>Problem:</strong> "Access Denied" or "Anonymous caller" errors</p>
<p><strong>Solutions:</strong></p>
<ol>
<li>
<p><strong>Check credentials are configured:</strong>
   <div class="highlight"><pre><span></span><code><span class="c1"># AWS</span>
aws<span class="w"> </span>configure<span class="w"> </span>list

<span class="c1"># GCP</span>
gcloud<span class="w"> </span>auth<span class="w"> </span>list

<span class="c1"># Azure</span>
az<span class="w"> </span>account<span class="w"> </span>show
</code></pre></div></p>
</li>
<li>
<p><strong>Verify credentials have correct permissions:</strong></p>
</li>
<li>Check IAM policies for your user/role</li>
<li>
<p>Ensure bucket/container permissions are correct</p>
</li>
<li>
<p><strong>Test credentials directly:</strong>
   <div class="highlight"><pre><span></span><code><span class="c1"># AWS</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">boto3</span>
<span class="n">s3</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;s3&#39;</span><span class="p">)</span>
<span class="n">s3</span><span class="o">.</span><span class="n">list_buckets</span><span class="p">()</span>  <span class="c1"># Should work without errors</span>
</code></pre></div></p>
</li>
</ol>
<!---->
<h3 id="performance-issues">Performance Issues</h3>
<p><strong>Problem:</strong> Slow operations with cloud storage</p>
<p><strong>Solutions:</strong></p>
<ol>
<li><strong>Use same region:</strong> Store data in the same region as compute</li>
<li><strong>Batch operations:</strong> Group multiple operations together</li>
<li><strong>Cache results:</strong> Cache file lists and metadata when appropriate</li>
<li><strong>Use appropriate storage class:</strong> Standard for frequently accessed data</li>
</ol>
<p><strong>Problem:</strong> Large file downloads are slow</p>
<p><strong>Solutions:</strong></p>
<ol>
<li><strong>Process in chunks:</strong> Don't download entire large files at once</li>
<li><strong>Use streaming:</strong> For very large files, consider streaming approaches</li>
<li><strong>Compress files:</strong> Smaller files download faster</li>
</ol>
<!---->
<h2 id="summary">Summary</h2>
<p>Congratulations! You've learned the fundamentals of using Kirin with
cloud storage:</p>
<ul>
<li>âœ… <strong>Understanding cloud backends</strong> - S3, GCS, Azure, and more</li>
<li>âœ… <strong>Creating cloud catalogs</strong> - Same API for local and cloud</li>
<li>âœ… <strong>Authentication methods</strong> - Different approaches for each provider</li>
<li>âœ… <strong>Working with remote files</strong> - Lazy loading and automatic cleanup</li>
<li>âœ… <strong>Key differences</strong> - Network latency, costs, authentication</li>
<li>âœ… <strong>Best practices</strong> - Security, performance, cost optimization</li>
<li>âœ… <strong>Common workflows</strong> - Development to production patterns</li>
<li>âœ… <strong>Troubleshooting</strong> - Solutions to common issues</li>
</ul>
<h2 id="key-concepts">Key Concepts</h2>
<ul>
<li><strong>Unified API</strong>: Same methods work for local and cloud storage</li>
<li><strong>Content-addressed storage</strong>: Files stored by hash, works the same
  everywhere</li>
<li><strong>Lazy loading</strong>: Files downloaded on-demand when accessed</li>
<li><strong>Authentication</strong>: Configured at catalog/dataset creation, not per
  operation</li>
<li><strong>Backend-agnostic</strong>: Switch between backends by changing the URL</li>
</ul>
<h2 id="next-steps">Next Steps</h2>
<ul>
<li><strong><a href="../../how-to/setup-cloud-storage/">Setup Cloud Storage</a></strong> - Complete
  guide for setting up AWS S3, Google Cloud Storage, and Azure Blob
  Storage</li>
<li><strong><a href="../../how-to/track-model-data/">Track Model Training Data</a></strong> - See
  cloud storage in action with ML workflows</li>
</ul>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/ericmjl" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["instant", "tabs", "content.code.copy"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
      
        <script src="../../config.js"></script>
      
    
  </body>
</html>