{% extends "base.html" %}

{% block title %}Delete Dataset - Kirin{% endblock %}

{% block breadcrumb %}
<span class="breadcrumb-separator">></span>
<a href="/">Catalogs</a>
<span class="breadcrumb-separator">></span>
<a href="/catalog/{{ catalog.id }}">{{ catalog.root_dir }}</a>
<span class="breadcrumb-separator">></span>
<span>Delete {{ dataset_name }}</span>
{% endblock %}

{% block header_title %}Delete Dataset{% endblock %}
{% block header_description %}Permanently remove this dataset and all its commits and files.{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="alert alert-warning mb-6">
        <strong>This cannot be undone</strong><br>
        Deleting this dataset will remove all commits and files in the dataset from
        storage (local disk, S3, GCS, or Azure). The data will be permanently deleted.
    </div>

    <div class="panel">
        <div class="panel-header">
            <h2 class="panel-title">Dataset</h2>
        </div>
        <div class="panel-content">
            <div class="space-y-4">
                <div>
                    <label class="text-sm font-medium text-muted-foreground">Dataset name</label>
                    <p class="text-lg font-mono">{{ dataset_name }}</p>
                </div>
                <div>
                    <label class="text-sm font-medium text-muted-foreground">Catalog</label>
                    <p class="text-lg font-mono">{{ catalog.root_dir }}</p>
                </div>
            </div>
        </div>
    </div>

    <div class="flex gap-3">
        <a href="/catalog/{{ catalog.id }}" class="btn btn-secondary">
            Cancel
        </a>
        <form method="POST" action="/catalog/{{ catalog.id }}/dataset/{{ dataset_name }}/delete" class="inline">
            <button type="submit" class="btn btn-destructive">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="3,6 5,6 21,6"></polyline>
                    <path d="M19,6v14a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6m3,0V4a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2V6"></path>
                    <line x1="10" y1="11" x2="10" y2="17"></line>
                    <line x1="14" y1="11" x2="14" y2="17"></line>
                </svg>
                Delete Dataset
            </button>
        </form>
    </div>
</div>
{% endblock %}
